{"version":3,"file":"render.cjs.js","sources":["../src/shared/draw.ts","../src/utils/mergeCells.ts","../src/render/render.ts"],"sourcesContent":["import { fabric } from \"fabric\";\r\nimport { ILineOptions, IRectOptions } from \"fabric/fabric-impl\";\r\n\r\nexport type StaticCanvas = fabric.StaticCanvas;\r\nexport type Canvas = fabric.Canvas;\r\nexport type Group = fabric.Group;\r\nexport type Rect = fabric.Rect;\r\nexport type Line = fabric.Line;\r\nexport type Text = fabric.Text;\r\nexport type Textbox = fabric.Textbox;\r\n\r\n\r\nexport function createStaticCanvas(container): fabric.StaticCanvas {\r\n    return new fabric.StaticCanvas(container);\r\n}\r\n\r\nexport function createCanvas(container,options?: fabric.ICanvasOptions): fabric.Canvas {\r\n    return new fabric.Canvas(container,options);\r\n}\r\n\r\nexport function createGroup(objects?: fabric.Object[] | undefined, options?: fabric.IGroupOptions | undefined, isAlreadyGrouped?: boolean | undefined): fabric.Group {\r\n    return new fabric.Group(objects,options,isAlreadyGrouped);\r\n}\r\n\r\n\r\nexport function createRect(options:IRectOptions): fabric.Rect {\r\n    return new fabric.Rect(options);\r\n}\r\n\r\nexport function createLine(points?: number[], objObjects?: ILineOptions): fabric.Line {\r\n    return new fabric.Line(points, objObjects);\r\n}\r\n\r\nexport function createText(text: string, options: fabric.ITextOptions): fabric.Text {\r\n    return new fabric.Text(text, options);\r\n}\r\n\r\nexport function createTextbox(text: string, options: fabric.ITextOptions): fabric.Textbox {\r\n    return new fabric.Textbox(text, options);\r\n}","import { createGroup, createRect, createTextbox } from \"../shared\";\r\n\r\nexport function mergeCell(cell:MergeCell, cellWidth, cellHeight) {\r\n    //! 合并单元格格式待完善\r\n    const { startRow, startCol, endRow, endCol } = cell;\r\n    const left = startCol * cellWidth;\r\n    const top = startRow * cellHeight;\r\n    const width = (endCol - startCol + 1) * cellWidth;\r\n    const height = (endRow - startRow + 1) * cellHeight;\r\n\r\n    const rect = createRect({\r\n      left: left,\r\n      top: top,\r\n      width: width,\r\n      height: height,\r\n      fill: \"white\",\r\n      stroke: \"black\",\r\n      strokeWidth: 1,\r\n    });\r\n\r\n    const text = createTextbox(\"Hello\", {\r\n      left: rect.left,\r\n      top: rect.top,\r\n      width: rect.width,\r\n      height: rect.height,\r\n      fill: \"black\",\r\n    });\r\n    const group = createGroup([rect, text]);\r\n    return group;\r\n  }\r\n\r\n  export function createCells(startRow, startCol, endRow, endCol,cellWidth, cellHeight){\r\n    const left = startCol * cellWidth;\r\n    const top = startRow * cellHeight;\r\n    const width = (endCol - startCol + 1) * cellWidth;\r\n    const height = (endRow - startRow + 1) * cellHeight;\r\n\r\n    const rect = createRect({\r\n      left: left,\r\n      top: top,\r\n      width: width,\r\n      height: height,\r\n      fill: \"white\",\r\n      stroke: \"black\",\r\n      strokeWidth: 1,\r\n      lockMovementX : true,\r\n      lockMovementY : true,\r\n    });\r\n\r\n    const text = createTextbox(`${startRow},${startCol}`, {\r\n      left: rect.left,\r\n      top: rect.top,\r\n      width: rect.width,\r\n      height: rect.height,\r\n      lockMovementX : true,\r\n      lockMovementY : true,\r\n      fill: \"black\",\r\n    });\r\n    const group = createGroup([rect, text]);\r\n    return group;\r\n  }\r\n\r\n  type MergeCell = {\r\n    startRow: number;\r\n    startCol: number;\r\n    endRow: number;\r\n    endCol: number;\r\n  };","import { fabric } from \"fabric\";\r\nimport {\r\n  createStaticCanvas,\r\n  createCanvas,\r\n  createGroup,\r\n  createRect,\r\n  createLine,\r\n  createText,\r\n  createTextbox,\r\n} from \"../shared\";\r\n\r\nimport type {\r\n  StaticCanvas,\r\n  Canvas,\r\n  Group,\r\n  Rect,\r\n  Line,\r\n  Text,\r\n  Textbox,\r\n} from \"../shared\";\r\nimport { mergeCell } from \"../utils\";\r\nimport { createCells } from \"../utils/mergeCells\";\r\n\r\nexport class Table {\r\n  private canvas: Canvas;\r\n  private cellWidth: number;\r\n  private cellHeight: number;\r\n  private row: number;\r\n  private col: number;\r\n  private cellGroups: Group[] = [];\r\n  private mergeGroup: Group[] = [];\r\n  private mergeCells: MergeCell[] = [];\r\n  private startX: number = Number.MAX_SAFE_INTEGER;\r\n  private startY: number = Number.MAX_SAFE_INTEGER;\r\n  private endX: number = Number.MIN_SAFE_INTEGER;\r\n  private endY: number = Number.MIN_SAFE_INTEGER;\r\n  constructor(row: number, col: number, container: string,mergeCells: MergeCell[]) {\r\n    this.canvas = createCanvas(container);\r\n    this.cellWidth = 120;\r\n    this.cellHeight = 40;\r\n    this.row = row;\r\n    this.col = col;\r\n    this.mergeCells = mergeCells;\r\n    this.canvas.selection = true;\r\n    this.canvas.on(\"mouse:down\", (e) => {\r\n      this.resetBgc();\r\n      this.startX = Number.MAX_SAFE_INTEGER;\r\n      this.endX = Number.MIN_SAFE_INTEGER;\r\n      this.startY = Number.MAX_SAFE_INTEGER;\r\n      this.endY = Number.MIN_SAFE_INTEGER;\r\n      this.canvas.on(\"mouse:move\", this.mouseMove);\r\n    });\r\n    this.canvas.on(\"mouse:up\", (e) => {\r\n      this.canvas.off(\"mouse:move\", this.mouseMove);\r\n    });\r\n  }\r\n\r\n  private mouseMove = (e) => {\r\n    let minX =\r\n      Number(Math.floor(e.pointer.x / this.cellWidth)) * this.cellWidth;\r\n    let maxX = Number(Math.ceil(e.pointer.x / this.cellWidth)) * this.cellWidth;\r\n    let minY =\r\n      Number(Math.floor(e.pointer.y / this.cellHeight)) * this.cellHeight;\r\n    let maxY =\r\n      Number(Math.ceil(e.pointer.y / this.cellHeight)) * this.cellHeight;\r\n    console.log(minX, maxX, minY, maxY);\r\n\r\n    this.startX = Math.min(minX, this.startX);\r\n    this.endX = Math.max(maxX, this.endX);\r\n    this.startY = Math.min(minY, this.startY);\r\n    this.endY = Math.max(maxY, this.endY);\r\n\r\n    this.cellGroups.forEach((group) => {\r\n      const rect = group.getObjects()[0] as fabric.Rect;\r\n      if (\r\n        group.left >= this.startX &&\r\n        group.left + this.cellWidth <= this.endX &&\r\n        group.top >= this.startY &&\r\n        group.top + this.cellHeight <= this.endY\r\n      ) {\r\n        rect.set(\"fill\", \"rgba(0,0,0,0.5)\"); // 给矩形添加红色背景\r\n      }\r\n    });\r\n    this.reRender(); \r\n  };\r\n\r\n  private resetBgc() {\r\n    this.cellGroups.forEach((group) => {\r\n      const rect = group.getObjects()[0] as fabric.Rect;\r\n      if (\r\n        group.left >= this.startX &&\r\n        group.left + this.cellWidth <= this.endX &&\r\n        group.top >= this.startY &&\r\n        group.top + this.cellHeight <= this.endY\r\n      ) {\r\n        rect.set(\"fill\", \"white\"); // 给矩形添加红色背景\r\n      }\r\n    });\r\n  }\r\n\r\n  public initMaskTable() {\r\n    const totalHeight = this.row * this.cellHeight;\r\n    const totalWidth = this.col * this.cellWidth;\r\n\r\n    for (let i = 0; i < this.row; i++) {\r\n      for (let j = 0; j < this.col; j++) {\r\n        const cellGroup = createCells(\r\n          i,\r\n          j,\r\n          i,\r\n          j,\r\n          this.cellWidth,\r\n          this.cellHeight\r\n        );\r\n        this.cellGroups.push(cellGroup);\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n\r\n  private merge(): Table {\r\n    this.mergeCells.forEach((cell) => {\r\n      const group = mergeCell(cell, this.cellWidth, this.cellHeight);\r\n      this.mergeGroup.push(group);\r\n    });\r\n    return this;\r\n  }\r\n\r\n  public render() {\r\n    this.merge();\r\n    this.canvas.add.apply(this.canvas, [\r\n      ...this.cellGroups,\r\n      ...this.mergeGroup,\r\n    ]);\r\n   \r\n    this.canvas.renderAll();\r\n    this.canvas.getObjects().forEach((obj) => {\r\n      obj.lockMovementX = true;\r\n      obj.lockMovementY = true;\r\n    });\r\n    //! 创建一个覆盖层？\r\n    //   const overlayCanvasContainer = document.createElement(\"canvas\");\r\n    //   overlayCanvasContainer.setAttribute(\"id\", \"overlay-cotnainer\");\r\n    //   let canvasContainer = document.getElementById(\"container\")\r\n    //     .parentNode as HTMLElement;\r\n    //   canvasContainer.appendChild(overlayCanvasContainer);\r\n    //   overlayCanvasContainer.style.position = \"absolute\";\r\n    //   overlayCanvasContainer.style.top = canvasContainer.offsetTop + \"px\";\r\n    //   overlayCanvasContainer.style.left = canvasContainer.offsetLeft + \"px\";\r\n    //   // 创建一个 fabric.Canvas 实例，覆盖在已有的 canvas 上\r\n\r\n    //   setTimeout(() => {\r\n    //     let overlayCanvas = createCanvas(\"overlay-cotnainer\",{\r\n    //       selection: true,\r\n    //       width: this.cellWidth * this.col,\r\n    //       height: this.cellHeight * this.row,\r\n    //     });\r\n\r\n    //     overlayCanvas.setBackgroundColor(\"rgba(0,0,0,0)\", function () {\r\n    //       overlayCanvas.renderAll();\r\n    //     });\r\n    //   },100);\r\n    // }\r\n  }\r\n\r\n  private reRender(){\r\n    this.canvas.renderAll()\r\n  }\r\n}\r\n\r\ntype MergeCell = {\r\n  startRow: number;\r\n  startCol: number;\r\n  endRow: number;\r\n  endCol: number;\r\n};\r\n"],"names":["fabric"],"mappings":"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"}